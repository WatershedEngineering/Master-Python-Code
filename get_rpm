#function to get RPM from a generator. Pass the serial port address 
#needs pyserial module
#only works if generator is running: DO NOT CALL if gen not running
def get_RPM(serial_port):
#Function to parse the RPM Data	
	def parse_RPM(string):
		new_string = string[11:15] #gets the digits need to get the RPM from the string
		rpm = float(new_string)/10 #makes string into a float		print rpm
		return rpm
#Main code	
	ser = serial.Serial(serial_port, baudrate=9600,
        bytesize=serial.EIGHTBITS,
        parity=serial.PARITY_NONE,
        stopbits=serial.STOPBITS_ONE,timeout=1) #assigns the serial
	print "opening "+serial_port
	data = ser.read(16)
	print "raw data from serial port:"+data
	ser.close()
	RPM = parse_RPM(data) #performs the parse RPM function
	print "generator rpm: "+str(RPM)
	return RPM
